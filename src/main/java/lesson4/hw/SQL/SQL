CREATE TABLE STORAGE (
    STORAGE_ID NUMBER,
    CONSTRAINT STORAGE_PK PRIMARY KEY (STORAGE_ID),
    FORMAT_SUPPORTED NVARCHAR2(200) NOT NULL,
    STORAGE_COUNTRY NVARCHAR2(20) DEFAULT 'USA' NOT NULL,
    MAX_SIZE NUMBER NOT NULL
);

CREATE TABLE "FILE" (
    FILE_ID NUMBER,
    CONSTRAINT FILE_PK PRIMARY KEY (FILE_ID),
    NAME NVARCHAR2(20) NOT NULL,
    FORMAT NVARCHAR2(20) NOT NULL,
    FILE_SIZE NUMBER NOT NULL,
    STORAGE_ID NUMBER,
    CONSTRAINT STORAGE_FK FOREIGN KEY (STORAGE_ID) REFERENCES STORAGE(STORAGE_ID)
);

CREATE SEQUENCE STORAGE_SEQ
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 20;

 CREATE SEQUENCE FILE_SEQ
    MINVALUE 1
    START WITH 1
    INCREMENT BY 1
    CACHE 20;

    CREATE OR REPLACE TRIGGER STORAGE_TRIG
    BEFORE INSERT ON STORAGE
    FOR EACH ROW

    BEGIN
      SELECT STORAGE_SEQ.NEXTVAL
      INTO   :NEW.STORAGE_ID
      FROM   DUAL;
    END;

    CREATE OR REPLACE TRIGGER FILE_TRIG
    BEFORE INSERT ON "FILE"
    FOR EACH ROW

    BEGIN
      SELECT FILE_SEQ.NEXTVAL
      INTO   :NEW.FILE_ID
      FROM   DUAL;
    END;